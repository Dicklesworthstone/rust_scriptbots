[build]
# Consolidated build config
target = "x86_64-unknown-linux-gnu"

[target.x86_64-unknown-linux-gnu]
linker = "clang"
rustflags = [
    "-C","link-arg=-fuse-ld=mold",
    # Default to an AVX2-class baseline so CI avoids SIGILL; launch scripts add RUSTFLAGS=\"-C target-cpu=native\" for local tuning.
    "-C","target-cpu=x86-64-v3",
]

[env]
CC_x86_64_pc_windows_gnullvm = "/data/projects/rust_scriptbots/toolchains/llvm-mingw-20251021-ucrt-ubuntu-22.04-x86_64/bin/x86_64-w64-mingw32-clang"
CXX_x86_64_pc_windows_gnullvm = "/data/projects/rust_scriptbots/toolchains/llvm-mingw-20251021-ucrt-ubuntu-22.04-x86_64/bin/x86_64-w64-mingw32-clang++"
AR_x86_64_pc_windows_gnullvm = "/data/projects/rust_scriptbots/toolchains/llvm-mingw-20251021-ucrt-ubuntu-22.04-x86_64/bin/llvm-ar"
CXXFLAGS_x86_64_pc_windows_gnullvm = "-isystem /data/projects/rust_scriptbots/toolchains/llvm-mingw-20251021-ucrt-ubuntu-22.04-x86_64/x86_64-w64-mingw32/include/c++/v1"
GPUI_FXC_PATH = "/data/projects/rust_scriptbots/toolchains/windows/bin/fxc-wrapper"
RUST_TEST_THREADS = "1"

[target.x86_64-pc-windows-gnullvm]
linker = "/data/projects/rust_scriptbots/toolchains/llvm-mingw-20251021-ucrt-ubuntu-22.04-x86_64/bin/x86_64-w64-mingw32-clang"
ar = "/data/projects/rust_scriptbots/toolchains/llvm-mingw-20251021-ucrt-ubuntu-22.04-x86_64/bin/llvm-ar"

[target.x86_64-pc-windows-gnullvm.env]
CC = "/data/projects/rust_scriptbots/toolchains/llvm-mingw-20251021-ucrt-ubuntu-22.04-x86_64/bin/x86_64-w64-mingw32-clang"
CXX = "/data/projects/rust_scriptbots/toolchains/llvm-mingw-20251021-ucrt-ubuntu-22.04-x86_64/bin/x86_64-w64-mingw32-clang++"
AR = "/data/projects/rust_scriptbots/toolchains/llvm-mingw-20251021-ucrt-ubuntu-22.04-x86_64/bin/llvm-ar"
CC_X86_64_PC_WINDOWS_GNULLVM = "/data/projects/rust_scriptbots/toolchains/llvm-mingw-20251021-ucrt-ubuntu-22.04-x86_64/bin/x86_64-w64-mingw32-clang"
CXX_X86_64_PC_WINDOWS_GNULLVM = "/data/projects/rust_scriptbots/toolchains/llvm-mingw-20251021-ucrt-ubuntu-22.04-x86_64/bin/x86_64-w64-mingw32-clang++"
AR_X86_64_PC_WINDOWS_GNULLVM = "/data/projects/rust_scriptbots/toolchains/llvm-mingw-20251021-ucrt-ubuntu-22.04-x86_64/bin/llvm-ar"
CXXFLAGS_X86_64_PC_WINDOWS_GNULLVM = "-isystem /data/projects/rust_scriptbots/toolchains/llvm-mingw-20251021-ucrt-ubuntu-22.04-x86_64/x86_64-w64-mingw32/include/c++/v1"
